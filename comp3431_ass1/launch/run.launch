<launch>
    <!-- TurtleBot3 -->
    <include file="$(find turtlebot3_bringup)/launch/turtlebot3_remote.launch">
        <arg name="model" value="waffle_pi" />
    </include>
    <!-- Start Gmapping -->
    <include file="$(find turtlebot3_slam)/launch/turtlebot3_gmapping.launch">
        <arg name="model" value="waffle_pi"/>
        <arg name="configuration_basename" value="turtlebot3_lds_2d.lua"/>
    </include>
    <!-- Wall-follower -->>
    <include file="$(find comp3431_starter)/launch/wallFollow.launch">
    </include>
    
    <node pkg="map_server" name="map_server" type="map_server" args="$(find turtlebot3_navigation)/maps/map.yaml"/>

    <!-- AMCL -->
    <include file="$(find turtlebot3_navigation)/launch/amcl.launch"/>

    <!-- move_base -->
    <include file="$(find turtlebot3_navigation)/launch/move_base.launch">
        <arg name="model" value="waffle_pi" />
        <arg name="move_forward_only" value="false"/>
    </include>

    <!-- Run rviz-->>
    <node pkg="rviz" type="rviz" name="rviz" required="true" args="-d $(find comp3431_ass1)/rviz/rviz2.rviz"/>

</launch>